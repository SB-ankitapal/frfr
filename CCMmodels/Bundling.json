{
  "title": "Bundling",
  "x-stoplight": {
    "id": "it41zshe65s0k"
  },
  "examples": [
    {
      "ubr": "9100204461",
      "version": 1,
      "channel": "WEB",
      "impExpInd": "I",
      "ccrnList": [
        "1323456324",
        "1324324567"
      ],
      "unassociatedBatchCcrnList": [
        "1423480841"
      ],
      "vrn": "CM1999",
      "party": "DRIVER",
      "driverInfo": {
        "tswId": "P492812390",
        "chiName": "陳大文"
      },
      "expectedLbcp": "LMC",
      "submittedDatetime": "2024-09-29T09:00:00",
      "bundlingCompleteDatetime": "2024-09-29T09:00:05",
      "validUntilDate": "2024-10-30",
      "udi": "293921021"
    }
  ],
  "allOf": [
    {
      "required": [
        "ubr",
        "version",
        "channel",
        "impExpInd",
        "ccrnList",
        "vrn",
        "party",
        "driverInfo",
        "submittedDatetime",
        "bundlingCompleteDatetime",
        "validUntilDate"
      ],
      "properties": {
        "ubr": {
          "type": "string",
          "description": "Unique Bundling Reference",
          "x-stoplight": {
            "id": "stu5kc2uhc8pf"
          },
          "maxLength": 35,
          "example": "9100204461"
        },
        "version": {
          "type": "integer",
          "x-stoplight": {
            "id": "qidk1hi7dyxnx"
          },
          "format": "int64",
          "minimum": 1,
          "description": "Bundling version,  start from 1 and increment by one for each bundling updated"
        },
        "channel": {
          "x-stoplight": {
            "id": "ttqd8absd3b3e"
          },
          "enum": [
            "I",
            "M",
            "S",
            "W"
          ],
          "description": "Submission channel:<br/>\nI - IVRS <br/>\nM - Mobile<br/>\nS - Bulk (System to System) <br/>\nW - Web <br/>\n"
        },
        "impExpInd": {
          "x-stoplight": {
            "id": "t19y5cqc7s2r5"
          },
          "enum": [
            "I",
            "E"
          ],
          "description": "Import/Export indicator:<br/>\nI - Import<br/>\nE - Export"
        },
        "ccrnList": {
          "type": "array",
          "x-stoplight": {
            "id": "orbs3d076ffkw"
          },
          "description": "List of CCRN in bundling",
          "minItems": 1,
          "maxItems": 99999,
          "items": {
            "x-stoplight": {
              "id": "83f904tz4w4ez"
            },
            "type": "string",
            "maxLength": 70,
            "example": "1324324567",
            "minLength": 0
          }
        },
        "unassociatedBatchCcrnList": {
          "type": "array",
          "x-stoplight": {
            "id": "dc3htayh7o9ze"
          },
          "description": "List of CCRNs whose assoicated batchCCRN should be updated to NULL",
          "items": {
            "x-stoplight": {
              "id": "tua7ftw72yrqw"
            },
            "type": "string",
            "maxLength": 70
          }
        },
        "vrn": {
          "type": "string",
          "description": "Vehicle Registration Number",
          "x-stoplight": {
            "id": "jvx6qlqoclf69"
          },
          "maxLength": 25,
          "example": "CM1999"
        },
        "party": {
          "x-stoplight": {
            "id": "ofm2eeh3q3il5"
          },
          "enum": [
            "DRIVER",
            "AGENT",
            "VASP"
          ],
          "description": "Submitter Party:<br>\nDRIVER - Submitted by truck DRIVER<br>\nAGENT - Submitted by agent (applicable to Phase 3A only)<br>\nVASP - Submitted by VASP (applicable to Phase 3B and after)"
        },
        "agentInfo": {
          "$ref": "./AgentInfo.json",
          "x-stoplight": {
            "id": "a0gmw8l81oej1"
          },
          "description": "Agent/VASP Information"
        },
        "driverInfo": {
          "$ref": "./DriverInfo.json",
          "x-stoplight": {
            "id": "jz7c78iesf6t7"
          },
          "description": "Driver Information"
        },
        "expectedLbcp": {
          "type": "string",
          "x-stoplight": {
            "id": "5thdaqj5nxnl0"
          },
          "maxLength": 3,
          "description": "The code of expected Customs Land Boundary Control Point"
        },
        "submittedDatetime": {
          "type": "string",
          "x-stoplight": {
            "id": "ikdu43uwu6c0m"
          },
          "format": "date-time",
          "description": "Submission datetime",
          "minLength": 19,
          "maxLength": 19
        },
        "bundlingCompleteDatetime": {
          "type": "string",
          "x-stoplight": {
            "id": "6ib68zookqyea"
          },
          "format": "date-time",
          "description": "Bundling completion datetime which is calulated in STD.",
          "minLength": 19,
          "maxLength": 19
        },
        "validUntilDate": {
          "type": "string",
          "x-stoplight": {
            "id": "vj7h55hf3iiur"
          },
          "maxLength": 10,
          "format": "date",
          "description": "Validity (end date) of bundling, inclusive",
          "example": "2024-10-09",
          "minLength": 10
        },
        "udi": {
          "type": "string",
          "x-stoplight": {
            "id": "yayxbyjdufi48"
          },
          "description": "Unique Declaration ID",
          "maxLength": 70,
          "example": "293921021"
        }
      },
      "x-stoplight": {
        "id": "v0knowcxr3983"
      }
    },
    {
      "$ref": "./InOneGo.json",
      "x-stoplight": {
        "id": "3pgh7y9kujiis"
      }
    }
  ],
  "type": "object"
}